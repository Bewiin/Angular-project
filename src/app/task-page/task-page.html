<h2>Liste des t창ches</h2>

@if (tasks$ | async; as tasks) {

  @if (tasks.length > 0) {
    <ul class="task-list">
      @for (t of tasks; track t.id) {
        <li class="task-item" (click)="startEdit(t)">

          @if (editingId === t.id) {
            <input
              class="task-input"
              [(ngModel)]="editingTitle"
              autofocus
              (click)="$event.stopPropagation()"
              (blur)="saveEdit()"
              (keydown.enter)="saveEdit()"
              (keydown.escape)="cancelEdit()"
            />
          } @else {
            <span class="task-bullet"></span>
            <span class="task-title">{{ t.title }}</span>
          }

        </li>
      }
    </ul>
  } @else {
    <p class="empty-state">
      Aucune t창che pour le moment.
    </p>
  }

} @else {
  <p class="loading">Chargement des t창ches ...</p>
}

<br>

<h3>Actions</h3>

<button class="fab" (click)="addTask('Nouvelle t창che')">
  +
</button>

